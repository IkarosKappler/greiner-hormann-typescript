/*
 Licensed under MIT License
*/
function m(){function k(a,b){this.k=this.first=null;this.m="undefined"===typeof b?Array.isArray(a[0]):b;for(var c=0,e=a.length;c<e;c++)this.g(new g(a[c]))}function n(a,b,c,e){this.i=this.toSource=this.y=this.x=0;var d=(e.y-c.y)*(b.x-a.x)-(e.x-c.x)*(b.y-a.y);0!==d&&(this.toSource=((e.x-c.x)*(a.y-c.y)-(e.y-c.y)*(a.x-c.x))/d,this.i=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/d,this.valid()&&(this.x=a.x+this.toSource*(b.x-a.x),this.y=a.y+this.toSource*(b.y-a.y)))}function g(a,b){1===arguments.length&&(Array.isArray(a)?
(b=a[1],a=a[0]):(b=a.y,a=a.x));this.x=a;this.y=b;this.d=this.c=this.next=null;this.j=0;this.f=!0;this.e=this.a=!1}function l(a,b,c,e){var d=[],f=[],h,g;g=a._latlngs;a=0;for(h=g.length;a<h;a++)d.push([g[a].lng,g[a].lat]);g=b._latlngs;a=0;for(h=g.length;a<h;a++)f.push([g[a].lng,g[a].lat]);d=new k(d);f=new k(f);b=d.clip(f,c,e);if(0<b.length){a=0;for(h=b.length;a<h;a++){c=b;e=a;if(d=b[a])for(d[0][0]===d[d.length-1][0]&&d[0][1]===d[d.length-1][1]&&(d=d.slice(0,d.length-1)),f=0,g=d.length;f<g;f++)d[f]=
[d[f][1],d[f][0]];else d=null;c[e]=d}return b?1===b.length?b[0]:b:null}return null}Array.isArray=Array.isArray||function(a){return Boolean(a&&"[object Array]"===Object.prototype.toString.call(Object(a)))};g.n=function(a,b,c){a=new g(a,b);a.j=c;a.a=!0;a.f=!1;return a};g.prototype.q=function(){this.e=!0;null===this.d||this.d.e||this.d.q()};g.prototype.b=function(a){return this.x===a.x&&this.y===a.y};g.prototype.p=function(a){var b=!1,c=a.first,e=c.next,d=this.x,f=this.y;do(c.y<f&&e.y>=f||e.y<f&&c.y>=
f)&&(c.x<=d||e.x<=d)&&(b^=c.x+(f-c.y)/(e.y-c.y)*(e.x-c.x)<d),c=c.next,e=c.next||a.first;while(!c.b(a.first));return b};n.prototype.valid=function(){return 0<this.toSource&&1>this.toSource&&0<this.i&&1>this.i};k.prototype.g=function(a){if(null==this.first)this.first=a,this.first.next=a,this.first.c=a;else{var b=this.first,c=b.c;b.c=a;a.next=b;a.c=c;c.next=a}};k.prototype.o=function(a,b,c){for(;!b.b(c)&&b.j<a.j;)b=b.next;a.next=b;c=b.c;a.c=c;c.next=a;b.c=a};k.prototype.h=function(a){for(;a.a;)a=a.next;
return a};k.prototype.s=function(){var a=this.r||this.first;do{if(a.a&&!a.e)break;a=a.next}while(!a.b(this.first));return this.r=a};k.prototype.t=function(){var a=this.k||this.first;do{if(a.a&&!a.e)return this.k=a,!0;a=a.next}while(!a.b(this.first));this.k=null;return!1};k.prototype.l=function(){var a=[],b=this.first;if(this.m){do a.push([b.x,b.y]),b=b.next;while(b!==this.first)}else{do a.push({x:b.x,y:b.y}),b=b.next;while(b!==this.first)}return a};k.prototype.clip=function(a,b,c){var e=this.first,
d=a.first,f,h;do{if(!e.a){do d.a||(h=new n(e,this.h(e.next),d,a.h(d.next)),h.valid()&&(f=g.n(h.x,h.y,h.toSource),h=g.n(h.x,h.y,h.i),f.d=h,h.d=f,this.o(f,e,this.h(e.next)),a.o(h,d,a.h(d.next)))),d=d.next;while(!d.b(a.first))}e=e.next}while(!e.b(this.first));e=this.first;d=a.first;f=e.p(a);h=d.p(this);b^=f;c^=h;do e.a&&(e.f=b,b=!b),e=e.next;while(!e.b(this.first));do d.a&&(d.f=c,c=!c),d=d.next;while(!d.b(a.first));for(b=[];this.t();){c=this.s();e=new k([],this.m);e.g(new g(c.x,c.y));do{c.q();if(c.f){do c=
c.next,e.g(new g(c.x,c.y));while(!c.a)}else{do c=c.c,e.g(new g(c.x,c.y));while(!c.a)}c=c.d}while(!c.e);b.push(e.l())}0===b.length&&(f&&b.push(this.l()),h&&b.push(a.l()),0===b.length&&(b=null));return b};return{union:function(a,b){return l(a,b,!1,!1)},intersection:function(a,b){return l(a,b,!0,!0)},diff:function(a,b){return l(a,b,!1,!0)},clip:l}}"function"===typeof define&&define.u?define([],m):"object"===typeof exports?module.exports=m():window.greinerHormann=m();
