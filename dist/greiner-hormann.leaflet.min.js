/*
 Licensed under MIT License
*/
function m(){function h(a){this.first=null;for(var b=this.j=0,c=a.length;b<c;b++)this.g(new g(a[b]))}function n(a,b,c,e){this.i=this.toSource=this.y=this.x=0;var d=(e.y-c.y)*(b.x-a.x)-(e.x-c.x)*(b.y-a.y);0!==d&&(this.toSource=((e.x-c.x)*(a.y-c.y)-(e.y-c.y)*(a.x-c.x))/d,this.i=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/d,this.valid()&&(this.x=a.x+this.toSource*(b.x-a.x),this.y=a.y+this.toSource*(b.y-a.y)))}function g(a,b){Array.isArray(a)&&(b=a[1],a=a[0]);this.x=a;this.y=b;this.d=this.c=this.next=null;
this.k=0;this.f=!0;this.e=this.a=!1}function l(a,b,c,e){var d=[],f=[],g,k;k=a._latlngs;a=0;for(g=k.length;a<g;a++)d.push([k[a].lng,k[a].lat]);k=b._latlngs;a=0;for(g=k.length;a<g;a++)f.push([k[a].lng,k[a].lat]);d=new h(d);f=new h(f);b=d.clip(f,c,e);if(0<b.length){a=0;for(g=b.length;a<g;a++){c=b;e=a;d=b[a];if(d=d.q().slice(0,d.j-1))for(f=0,k=d.length;f<k;f++)d[f]=[d[f][1],d[f][0]];else d=null;c[e]=d}return b?1===b.length?b[0]:b:null}return null}Array.isArray=Array.isArray||function(a){return Boolean(a&&
"[object Array]"===Object.prototype.toString.call(Object(a)))};g.l=function(a,b,c){a=new g(a,b);a.k=c;a.a=!0;a.f=!1;return a};g.prototype.o=function(){this.e=!0;null===this.d||this.d.e||this.d.o()};g.prototype.b=function(a){return this.x===a.x&&this.y===a.y};g.prototype.n=function(a){var b=!1,c=a.first,e=c.next,d=this.x,f=this.y;do(c.y<f&&e.y>=f||e.y<f&&c.y>=f)&&(c.x<=d||e.x<=d)&&(b^=c.x+(f-c.y)/(e.y-c.y)*(e.x-c.x)<d),c=c.next,e=c.next||a.first;while(!c.b(a.first));return b};n.prototype.valid=function(){return 0<
this.toSource&&1>this.toSource&&0<this.i&&1>this.i};h.prototype.g=function(a){if(null==this.first)this.first=a,this.first.next=a,this.first.c=a;else{var b=this.first,c=b.c;b.c=a;a.next=b;a.c=c;c.next=a}this.j++};h.prototype.m=function(a,b,c){for(;!b.b(c)&&b.k<a.k;)b=b.next;a.next=b;c=b.c;a.c=c;c.next=a;b.c=a;this.j++};h.prototype.h=function(a){for(;a.a;)a=a.next;return a};h.prototype.p=function(){var a=this.first;do{if(a.a&&!a.e)break;a=a.next}while(!a.b(this.first));return a};h.prototype.r=function(){var a=
this.first;do{if(a.a&&!a.e)return!0;a=a.next}while(!a.b(this.first));return!1};h.prototype.q=function(){for(var a=[],b=this.first,c=0;c<this.j;c++)a[c]=[b.x,b.y],b=b.next;return a};h.prototype.clip=function(a,b,c){var e=this.first,d=a.first;do{if(!e.a){do{if(!d.a){var f=new n(e,this.h(e.next),d,a.h(d.next));if(f.valid()){var l=g.l(f.x,f.y,f.toSource),f=g.l(f.x,f.y,f.i);l.d=f;f.d=l;this.m(l,e,this.h(e.next));a.m(f,d,a.h(d.next))}}d=d.next}while(!d.b(a.first))}e=e.next}while(!e.b(this.first));e=this.first;
d=a.first;b^=e.n(a);c^=d.n(this);do e.a&&(e.f=b,b=!b),e=e.next;while(!e.b(this.first));do d.a&&(d.f=c,c=!c),d=d.next;while(!d.b(a.first));for(a=[];this.r();){b=this.p();c=new h([]);c.g(new g(b.x,b.y));do{b.o();if(b.f){do b=b.next,c.g(new g(b.x,b.y));while(!b.a)}else{do b=b.c,c.g(new g(b.x,b.y));while(!b.a)}b=b.d}while(!b.e);a.push(c)}return a};return{union:function(a,b){return l(a,b,!1,!1)},intersection:function(a,b){return l(a,b,!0,!0)},diff:function(a,b){return l(a,b,!1,!0)}}}
"function"===typeof define&&define.s?define([],m):"object"===typeof exports?module.t=m():window.greinerHormann=m();
